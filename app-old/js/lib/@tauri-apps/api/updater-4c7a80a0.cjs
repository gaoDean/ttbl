"use strict";var t=require("./tslib.es6-2b0ec40b.cjs"),n=require("./event-bd0d063d.cjs");function r(r){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){return[2,n.listen(n.TauriEvent.STATUS_UPDATE,(function(t){r(null==t?void 0:t.payload)}))]}))}))}function e(){return t.__awaiter(this,void 0,void 0,(function(){function e(){o&&o(),o=void 0}var o;return t.__generator(this,(function(t){return[2,new Promise((function(t,i){r((function(n){return n.error?(e(),i(n.error)):"DONE"===n.status?(e(),t()):void 0})).then((function(t){o=t})).catch((function(t){throw e(),t})),n.emit(n.TauriEvent.INSTALL_UPDATE).catch((function(t){throw e(),t}))}))]}))}))}function o(){return t.__awaiter(this,void 0,void 0,(function(){function e(){o&&o(),o=void 0}var o;return t.__generator(this,(function(t){return[2,new Promise((function(t,i){n.once(n.TauriEvent.UPDATE_AVAILABLE,(function(n){var r;r=null==n?void 0:n.payload,e(),t({manifest:r,shouldUpdate:!0})})).catch((function(t){throw e(),t})),r((function(n){return n.error?(e(),i(n.error)):"UPTODATE"===n.status?(e(),t({shouldUpdate:!1})):void 0})).then((function(t){o=t})).catch((function(t){throw e(),t})),n.emit(n.TauriEvent.CHECK_UPDATE).catch((function(t){throw e(),t}))}))]}))}))}var i=Object.freeze({__proto__:null,onUpdaterEvent:r,installUpdate:e,checkUpdate:o});exports.checkUpdate=o,exports.installUpdate=e,exports.onUpdaterEvent=r,exports.updater=i;
